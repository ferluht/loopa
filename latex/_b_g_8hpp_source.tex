\hypertarget{_b_g_8hpp_source}{}\doxysection{BG.\+hpp}
\label{_b_g_8hpp_source}\index{common/BG.hpp@{common/BG.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{6 \textcolor{keyword}{class }BernoulliGate \{}
\DoxyCodeLine{7 \textcolor{keyword}{public}:}
\DoxyCodeLine{8 }
\DoxyCodeLine{9   \textcolor{keywordtype}{float} gate = 0;}
\DoxyCodeLine{10   \textcolor{keywordtype}{float} last\_gate = 0;}
\DoxyCodeLine{11   \textcolor{keywordtype}{char} state = \textcolor{charliteral}{'l'};}
\DoxyCodeLine{12   \textcolor{keywordtype}{float} p = 0.5;}
\DoxyCodeLine{13   \textcolor{keywordtype}{float} out\_l = 0;}
\DoxyCodeLine{14   \textcolor{keywordtype}{float} out\_r = 0;}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 }
\DoxyCodeLine{17   BernoulliGate() \{}
\DoxyCodeLine{18     }
\DoxyCodeLine{19   \} }
\DoxyCodeLine{20 }
\DoxyCodeLine{21   \textcolor{keywordtype}{void} process() \{}
\DoxyCodeLine{22     \textcolor{keywordtype}{float} \_rand = rand();}
\DoxyCodeLine{23     \textcolor{keywordflow}{if} (last\_gate < gate) \{}
\DoxyCodeLine{24       \textcolor{keywordflow}{if} (((\textcolor{keywordtype}{float}) \_rand / RAND\_MAX) < p)}
\DoxyCodeLine{25         state = \textcolor{charliteral}{'l'};}
\DoxyCodeLine{26       \textcolor{keywordflow}{else}}
\DoxyCodeLine{27         state = \textcolor{charliteral}{'r'};  }
\DoxyCodeLine{28     \} }
\DoxyCodeLine{29 }
\DoxyCodeLine{30     \textcolor{keywordflow}{if} (state == \textcolor{charliteral}{'l'}) \{}
\DoxyCodeLine{31       out\_l = gate;}
\DoxyCodeLine{32       out\_r = 0;}
\DoxyCodeLine{33     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{34       out\_r = gate;}
\DoxyCodeLine{35       out\_l = 0;}
\DoxyCodeLine{36     \}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     last\_gate = gate;}
\DoxyCodeLine{39   \}}
\DoxyCodeLine{40 \};}

\end{DoxyCode}
